---
title: Wezterm workspace switcher API
description: How to make keybindings for a preset list of workspaces, and generate and switch to new workspaces on the fly.
pubDate: Feb 2, 2024
cover: ./assets/wezterm.png
coverAlt: Wezterm configuration file with workspaces switcher keybindings.
tags: [wezterm, terminal, productivity]
draft: false 
---
import wezVideo2 from "./assets/videos/wezterm2.webm"

You can do some pretty cool stuff with the Wezterm API. Here is an example to get you started.
Here, we are defining a list of worspaces that the user can switch to. Using `InputSelector`, the user is then prompted to select a workspace 
from the list, causing the terminal to switch to that workspace upon selection.
A really cool thing to not about workspaces is that each workspace has its own
set of tabs.
```lua
Here we use the `InputSelector` action to create a list of workspaces that
wezter at at will use `to prompt the user to select from a list of items.

```lua
{
	mods = "LEADER",
	key = "1",
	action = wezterm.action_callback(function(window, pane)
		-- Here you can dynamically construct a longer list if needed

		local home = wezterm.home_dir
		local workspaces = {
			{ id = home, label = "Home" },
			{ id = home .. "/Code", label = "Work" },
			{ id = home .. "/Documents", label = "Personal" },
			{ id = home .. "/.config", label = "Config" },
		}

		window:perform_action(
			a.InputSelector({
				action = wezterm.action_callback(function(inner_window, inner_pane, id, label)
					if not id and not label then
						wezterm.log_info("cancelled")
					else
						wezterm.log_info("id = " .. id)
						wezterm.log_info("label = " .. label)
						inner_window:perform_action(
							a.SwitchToWorkspace({
								name = label,
								spawn = {
									label = "Workspace: " .. label,
									cwd = id,
								},
							}),
							inner_pane
						)
					end
				end),
				title = "Choose Workspace",
				choices = workspaces,
				fuzzy = true,
				-- Nightly version only: https://wezfurlong.org/wezterm/config/lua/keyassignment/InputSelector.html?h=input+selector#:~:text=These%20additional%20fields%20are%20also%20available%3A
				-- fuzzy_description = "Fuzzy find and/or make a workspace",
			}),
			pane
		)
	end),
},
```

<video src={wezVideo2} autoplay loop controls />

Want to make new workspaces on the fly? Try this:
```lua
{
			key = "N",
			mods = "CTRL|SHIFT",
			action = a.PromptInputLine({
				description = wezterm.format({
					{ Attribute = { Intensity = "Bold" } },
					{ Foreground = { AnsiColor = "Fuchsia" } },
					{ Text = "Enter name for new workspace" },
				}),
				action = wezterm.action_callback(function(window, pane, line)
					-- line will be `nil` if they hit escape without entering anything
					-- An empty string if they just hit enter
					-- Or the actual line of text they wrote
					if line then
						window:perform_action(
							a.SwitchToWorkspace({
								name = line,
							}),
							pane
						)
					end
				end),
			}),
		}
```
\
Now, you can easily toggle between 2 folders. While you may already be
using tabs for this, using Wezterm workspaces can be more efficient when
extensively and cleverly scripted.
