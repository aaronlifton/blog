---
import type { CollectionEntry } from "astro:content";
import PostPreview from "./PostPreview.astro";

interface Props {
  posts: CollectionEntry<"blog">[];
  heading?: string;
  asCard?: boolean;
  noTransition?: boolean;
}

const { posts, heading, noTransition, asCard = false } = Astro.props;
---

{heading && <h2>{heading}</h2>}
<!-- <hr /> -->
{
  asCard
  ? (
    <section
      class={`post-preview__list xl:grid-cols-3 lg:grid-cols-2 sm:grid-cols-1 grid-cols-1 grid gap-4 bg-opacity-50 sm:gap-6`}
    >
      {
        posts.map((post) => (
          <PostPreview
            post={post}
            asCard={asCard}
            noTransition={noTransition}
          />
        ))
      }
    </section>
  )
  : (
    <ul>
      {
        posts.map((post) => (
          <li class="mb-2 sm:mb-0">
            <a href={`/blog/${post.slug}`}>{post.data.title}</a>
          </li>
        ))
      }
    </ul>
  )
}

<style>
h2 {
  @apply my-vert-padding text-2xl mt-[calc(var(--vert-padding)*2)];
}
</style>
