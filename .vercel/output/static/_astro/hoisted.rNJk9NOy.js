import{a as f}from"./BlogPostState.X2bkQ1p_.js";import"./hoisted.l-JsOPk0.js";import"./index.cke4Zc0P.js";document.addEventListener("astro:page-load",()=>{const o=document.querySelector("[data-blog-post-container]"),t=document.querySelector("[data-toggle-toc]"),n=document.querySelector("[data-blog-post-toc-container]"),c=localStorage.getItem("__preferred_toc_state");c!==null&&(c==="open"?r():s());function r(){o?.setAttribute("data-toc","open"),t.setAttribute("data-state","open"),i("open"),t.setAttribute("aria-label",t.dataset.offLabel??"")}function s(){o?.setAttribute("data-toc","closed"),i("closed"),t.setAttribute("aria-label",t.dataset.openTocLabel??"")}t?.addEventListener("click",()=>{o.dataset.toc==="open"?(s(),n?.addEventListener("transitionend",()=>{n.classList.add("invisible")},{once:!0})):(r(),n?.classList.remove("invisible"))});function i(l){localStorage.setItem("__preferred_toc_state",l)}document.querySelector("[data-back-to-top]")?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})});document.addEventListener("astro:page-load",()=>{const o=document.querySelector("nav[data-toc-wrapper] ol"),t=o?.closest("[data-toc-wrapper]"),n=document.querySelector("[data-blog-post]"),c=o?.querySelector("li");function r(e){e.parentElement?.parentElement?.tagName==="li"&&e.parentElement.setAttribute("data-active",""),e.setAttribute("data-active","")}function s(e){e.parentElement?.removeAttribute("data-active"),e.removeAttribute("data-active")}function i(){o?.querySelectorAll("li").forEach(s)}function g(e){const d=e.getAttribute("id"),u=o?.querySelector(`li a[href="#${d}"]`);return u?u.closest("li"):null}const l=new IntersectionObserver(e=>{e.forEach(d=>{if(!t)return;const u=d.target;if(d.isIntersecting){const a=g(u);if(!a)return;i(),r(a),f.set(a);const p=t.getBoundingClientRect(),b=a.getBoundingClientRect();if(a===c){t.scrollTop=0;return}if(p.top>b.top){t.scrollTop-=p.top-b.top;return}b.bottom>p.bottom&&(t.scrollTop+=b.bottom-p.bottom)}})},{threshold:1}),m=n?.querySelectorAll("h1, h2, h3, h4, h4, h6")??[];for(const e of m)l.observe(e)});
